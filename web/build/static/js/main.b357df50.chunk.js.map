{"version":3,"sources":["components/NavBar.jsx","service/restaurant.js","service/showMore.js","components/Restaurant.jsx","components/Msg.jsx","components/Restaurants.jsx","components/Footer.jsx","service/script.js","components/Login.jsx","service/picture.js","components/Pictures.jsx","service/reservation.js","components/Reservations.jsx","components/RestaurantDetails.jsx","App.jsx","index.jsx"],"names":["NavBar","props","state","user","this","JSON","stringify","to","role","method","action","id","onClick","username","React","Component","apiServerUrl","findAllRestaurants","a","fetch","response","json","restaurants","findRestaurant","restID","restaurant","restId","resp","body","status","document","getElementById","innerText","street","number","telefon","informations","div1","createElement","setAttribute","text1","createTextNode","div2","text2","appendChild","alert","message","Restaurant","rest","className","_id","name","open","close","city","href","showMore","Msg","msg","length","Restaurants","setState","map","Footer","formJSON","value","password","console","log","mode","headers","Login","htmlFor","type","required","loginSubmit","findPictures","pictures","Pictures","pic","src","photo","alt","findReservations","reservations","Reservations","reser","date","time","onclick","RestaurantDetails","match","params","App","exact","path","component","ReactDOM","render"],"mappings":"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","file":"static/js/main.b357df50.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class NavBar extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: {},\r\n        }\r\n    }\r\n    render() {\r\n        const { user } = this.state;\r\n        if (JSON.stringify(user) === '{}') {\r\n            return (\r\n                <nav>\r\n                    <Link to=\"/\">Restaurants</Link>\r\n                    <Link to=\"/login\"> Login</Link>\r\n                    <Link to=\"/register\"> Register</Link>\r\n                </nav>\r\n            );\r\n        } else {\r\n            if (user.role === 'admin') {\r\n                return (\r\n                    <nav>\r\n                        <Link to=\"/\">Restaurants</Link>\r\n                        <Link to=\"/create_restaurant\">Create Restaurant</Link>\r\n                        <Link to=\"/create_reservation\">Create Reservation</Link>\r\n                        <form method=\"POST\" action=\"/auth/logout\" id=\"logout\">\r\n                            <Link to=\"#\" onClick=\"logoutSubmit()\">Logout: {user.username} ({user.role})</Link>\r\n                        </form>\r\n                    </nav>\r\n                );\r\n            } else {\r\n                return (\r\n                <nav>\r\n                    <Link to=\"/\">Restaurants</Link>\r\n                    <Link to=\"/create_reservation\">Create Reservation</Link>\r\n                    <form method=\"POST\" action=\"/auth/logout\" id=\"logout\">\r\n                        <Link to=\"#\" onClick=\"logoutSubmit()\">Logout: {user.username} ({user.role})</Link>\r\n                    </form>\r\n                </nav>\r\n                );\r\n            }\r\n        } \r\n    }\r\n}\r\n","export const apiServerUrl = 'http://localhost:8080/api';\r\n\r\nexport async function findAllRestaurants() {\r\n    const response = await fetch(`${apiServerUrl}/restaurants`);\r\n    const restaurants = await response.json();\r\n    return restaurants;\r\n}\r\n\r\nexport async function findRestaurant(restID) {\r\n    const response = await fetch(`${apiServerUrl}/restaurant?rest_id=${restID}`);\r\n    const restaurant = await response.json();\r\n    return restaurant;\r\n}\r\n\r\nexport default apiServerUrl;","import apiServerUrl from './restaurant.js';\r\n\r\nexport async function showMore(restId) {\r\n    const resp = await fetch(`${apiServerUrl}/getMoreInfo?id=${restId}`);\r\n    const body = await resp.json();\r\n\r\n    if (resp.status === 200) {\r\n        if (!document.getElementById(`location${restId}`)) {\r\n            const informations = document.getElementById(`informations${restId}`);\r\n            const div1 = document.createElement('div');\r\n            div1.setAttribute('id', `location${restId}`);\r\n            const text1 = document.createTextNode(`Street: ${body.street} nr.: ${body.number}`);\r\n            const div2 = document.createElement('div');\r\n            div2.setAttribute('id', `telefon${restId}`);\r\n            const text2 = document.createTextNode(`Tel.: ${body.telefon}`);\r\n            div1.appendChild(text1);\r\n            div2.appendChild(text2);\r\n            informations.appendChild(div1);\r\n            informations.appendChild(div2);\r\n        } else {\r\n            const location = document.getElementById(`location${restId}`);\r\n            location.innerText = `Street: ${body.street} nr.: ${body.number}`;\r\n            const telefon = document.getElementById(`telefon${restId}`);\r\n            telefon.innerText = `Tel.: ${body.telefon}`;\r\n        }\r\n    } else {\r\n        // eslint-disable-next-line no-alert\r\n        alert(body.message);\r\n    }\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { showMore } from '../service/showMore';\r\n\r\nexport default class Restaurant extends React.Component{\r\n    render() {\r\n        const { rest } = this.props;\r\n\r\n        return (\r\n            <div className=\"restaurant\">\r\n                <div id={`informations${rest._id}`}>\r\n                    <h2>\r\n                        <Link to={`restaurant_details/${rest._id}`}> {rest.name}</Link>\r\n                    </h2>\r\n                    <div>Opening hours: {rest.open} - {rest.close} </div>\r\n                    <div className=\"city\">City: {rest.city}</div>\r\n                </div>\r\n                <div><a href=\"#\" onClick={() => showMore(rest._id)}>Show more</a></div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\n\r\nexport default class Msg extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        if(this.props.msg.length>0){\r\n            return (\r\n                <div className=\"msg\">\r\n                        <label id=\"msg\">{this.props.msg} </label> \r\n                </div>\r\n            );\r\n        } else {\r\n            return(\r\n                <>\r\n                </>\r\n            );\r\n        }\r\n    }\r\n}","import React from 'react';\r\nimport Restaurant from './Restaurant';\r\nimport Msg from './Msg'\r\nimport { findAllRestaurants } from '../service/restaurant';\r\n\r\nexport default class Restaurants extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            restaurants: [],\r\n            msg: '',\r\n        }\r\n    }\r\n\r\n    async componentDidMount(){\r\n        const restaurants = await findAllRestaurants();\r\n        this.setState({ restaurants });\r\n    }\r\n\r\n    render() {\r\n        if(this.state.restaurants.length === 0) {\r\n            return(\r\n                <>\r\n                    <Msg msg={this.state.msg} />\r\n                    <h1>Restaurants</h1>\r\n                    <div id=\"container\">\r\n                        <div className=\"restaurant\">\r\n                                No restaurants in the database.\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            )\r\n        } else {\r\n            return (\r\n                <>\r\n                    <Msg msg={this.state.msg} />\r\n                    <h1>Restaurants</h1>\r\n                    <div id=\"container\">\r\n                        {this.state.restaurants.map((rest) => (\r\n                            <Restaurant rest={rest}/>\r\n                        ))}\r\n                    </div>\r\n                </>\r\n            );\r\n        }\r\n    }\r\n}\r\n","export default function Footer(){\r\n    return (\r\n        <footer>\r\n        <p>Copyright 2021</p>\r\n        </footer>\r\n    );\r\n}\r\n","export const apiServerUrl = 'http://localhost:8080/api';\r\n\r\nexport function logoutSubmit() {\r\n    document.getElementById('logout').submit();\r\n}\r\n\r\nexport async function loginSubmit() {\r\n    const form = document.getElementById('login');\r\n\r\n    const formJSON = JSON.stringify({ username: document.getElementById('username').value,\r\n         password: document.getElementById('password').value });\r\n    \r\n    console.log(formJSON);\r\n\r\n    const response = await fetch(`${apiServerUrl}/auth/login`, {\r\n        method: 'POST',\r\n        mode: 'cors',\r\n        headers: {\r\n            'Content-Type': 'application/json', \r\n        },\r\n        body: formJSON,\r\n    });\r\n\r\n    console.log(response);\r\n}","import Msg from './Msg';\r\nimport { Link } from 'react-router-dom';\r\nimport { loginSubmit } from '../service/script';\r\n\r\nexport default function Login() {\r\n    return (\r\n    <>\r\n        <Msg msg=''/>\r\n        <h1>Login</h1>\r\n        <form method=\"POST\" id=\"login\">\r\n            <label htmlFor=\"username\">Username: </label> \r\n            <input id=\"username\" type=\"text\" name=\"username\" required/>\r\n\r\n            <label htmlFor=\"password\">Password: </label> \r\n            <input id=\"password\" type=\"password\" name=\"password\" required/>\r\n\r\n            <input type=\"button\" onClick={() => loginSubmit()} value=\"Login\"/>\r\n        </form>\r\n        <div>\r\n            Don't have an account? <Link to=\"./register\">Register now</Link>\r\n        </div>\r\n    </>\r\n    );\r\n}","import apiServerUrl from './restaurant.js';\r\n\r\nexport async function findPictures(restID) {\r\n    const response = await fetch(`${apiServerUrl}/pictures?rest_id=${restID}`);\r\n    const pictures = await response.json();\r\n    return pictures;\r\n}","import React from 'react'; \r\nimport { findPictures } from '../service/picture';\r\nimport apiServerUrl from '../service/restaurant.js';\r\n\r\nexport default class Pictures extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            pictures: [],\r\n            user: null,\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const { restID } = this.props;\r\n        const pictures = await findPictures(restID);\r\n        this.setState({ pictures });\r\n    }\r\n\r\n    render() {\r\n        const { pictures } = this.state;\r\n\r\n        if (pictures.length === 0) {\r\n            return (\r\n                <>\r\n                    <h2>Pictures: </h2>\r\n                    <div>\r\n                        <div className=\"picture\">\r\n                                No pictures in the database.\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <h2>Pictures: </h2>\r\n                <div>\r\n                    {pictures.map((pic) => (\r\n                        <div className=\"picture\" key={pic}>\r\n                        <img src={`${apiServerUrl}/picture?photo=${pic.photo}`} alt={pic.name}/>\r\n                        </div>\r\n                    ))} \r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}","import apiServerUrl from './restaurant.js';\r\n\r\nexport async function findReservations(restID) {\r\n    const response = await fetch(`${apiServerUrl}/reservations?rest_id=${restID}`);\r\n    const reservations = await response.json();\r\n    return reservations;\r\n}","import React from 'react'; \r\nimport { findReservations } from '../service/reservation';\r\n\r\nexport default class Reservations extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            reservations: [],\r\n            user: null,\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const { restID } = this.props;\r\n        const reservations = await findReservations(restID);\r\n        this.setState({ reservations });\r\n    }\r\n\r\n    render() {\r\n        const { reservations } = this.state;\r\n        const { user } = this.state;\r\n\r\n        if (reservations.length === 0) {\r\n            return (\r\n                <>\r\n                    <h2>Reservations: </h2>\r\n                    <div id=\"reservations\">\r\n                        <div className=\"reservation\">\r\n                            No registered reservations in the database.\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <h2>Reservations: </h2>\r\n                <div id=\"reservations\">\r\n                    {reservations.map((reser) => (\r\n                        <div className=\"reservation\" key={reser}> Name:  {reser.name} , date:  {reser.date} , time:  {reser.time} \r\n                            {(user && user.username === reser.name) ? ( \r\n                                <a href=\"#\" onclick=\"deleteReservation(event,' reser._id ')\">Delete Reservation</a>\r\n                            ) : (<></>)\r\n                            }  \r\n                        </div>\r\n                    ))} \r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { findRestaurant } from '../service/restaurant';\r\nimport Msg from './Msg'\r\nimport Pictures from './Pictures';\r\nimport Reservations from './Reservations';\r\n\r\nexport default class RestaurantDetails extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            restaurant: null,\r\n            msg: '',\r\n            reservations: [],\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const { restID } = this.props.match.params;\r\n        const restaurant = await findRestaurant(restID);\r\n        this.setState({ restaurant });\r\n    }\r\n    render() {\r\n        const { restaurant } = this.state;\r\n        \r\n        const { reservations } = this.state;\r\n        const { msg } = this.state;\r\n\r\n        if(!restaurant) {\r\n            return <div> Restaurant not loaded yet... </div>;\r\n        }\r\n        return (\r\n            <>\r\n                <Msg msg={this.state.msg} />\r\n\r\n                <h1>{restaurant.name}</h1>\r\n                <div className=\"restaurant\">\r\n                    <div className=\"city\">City:  {restaurant.city} </div>\r\n                    <div>Str.  {restaurant.street} </div>\r\n                    <div>Nr.  {restaurant.number} </div>\r\n                    <div>Tel:  {restaurant.telefon} </div>\r\n                    <div>Opening hours:  {restaurant.open}  -  {restaurant.close}  </div>\r\n                </div>\r\n\r\n                \r\n                <Reservations restID={restaurant._id}/>\r\n\r\n                <Pictures restID={restaurant._id}/>\r\n                 \r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n/*\r\nif(payload.role === 'admin') {\r\n                    <h2>Upload Photo</h2>\r\n                    <form method=\"POST\" action=\"/uploadPhoto\" enctype=\"multipart/form-data\">\r\n                        <input id=\"id\" type=\"hidden\" name=\"id\" placeholder=\"Restaurant ID\" value= restaurant._id >\r\n                        \r\n                        <label htmlFor=\"photo\"> Photo: </label>\r\n                        <input id=\"photo\" type=\"file\" name=\"photo\" required>\r\n                        <br>\r\n\r\n                        <input type=\"submit\" value=\"Submit\">\r\n                    </form>\r\n                 }  \r\n                 */","import { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport NavBar from './components/NavBar';\r\nimport Restaurants from './components/Restaurants';\r\nimport Footer from './components/Footer';\r\nimport Login from './components/Login';\r\nimport RestaurantDetails from './components/RestaurantDetails';\r\n\r\nexport default function App() {\r\n    return(\r\n        <BrowserRouter>\r\n            <NavBar />\r\n            <main>\r\n                <Switch>\r\n                    <Route exact path=\"/\" component={Restaurants} />\r\n                    <Route exact path=\"/login\" component={Login} />\r\n                    <Route path=\"/restaurant_details/:restID\" component={RestaurantDetails} />\r\n                </Switch>\r\n            </main>\r\n            <Footer />\r\n        </BrowserRouter>\r\n    );\r\n}","import ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}