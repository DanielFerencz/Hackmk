(this["webpackJsonpprojekt-web"]=this["webpackJsonpprojekt-web"]||[]).push([[0],{114:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(46),i=n.n(s),c=n(49),o=n(23),u=n(5),j=n.n(u),l=n(11),h=n(16),d=n(17),b=n(24),p=n(19),m=n(18),O=n(25),x=n.n(O),f="http://localhost:8080/api";function v(){return g.apply(this,arguments)}function g(){return(g=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/posts"));case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,200!==t.status){e.next=8;break}return e.abrupt("return",n);case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return k.apply(this,arguments)}function k(){return(k=Object(l.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/post?pst_id=").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,200!==n.status){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return w.apply(this,arguments)}function w(){return(w=Object(l.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/createPost"),{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,!(n.status<400)){e.next=8;break}return e.abrupt("return","OK");case 8:if(!(n.status>=500)){e.next=10;break}return e.abrupt("return","Server problem");case 10:return e.abrupt("return",r.msg);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=f;function I(){return D.apply(this,arguments)}function D(){return(D=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/user"),{mode:"cors",credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,203!==t.status){e.next=8;break}return e.abrupt("return",{});case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=n(160),N=n(162),_=n(163),q=n(164),P=n(0),E=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).state={user:{}},x()(Object(b.a)(r)),r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:t=e.sent,this.setState({user:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){document.cookie="token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",this.setState({user:{}})}},{key:"render",value:function(){var e=this.state.user;return"{}"===JSON.stringify(e)?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(F.a,{style:{background:"#2b6777"},children:Object(P.jsx)(N.a,{children:Object(P.jsxs)(_.a,{variant:"h6",children:[Object(P.jsx)(q.a,{color:"inherit",href:"/",children:"Posts"}),Object(P.jsx)(q.a,{color:"inherit",href:"/login",children:" Login"}),Object(P.jsx)(q.a,{color:"inherit",href:"/register",children:" Register"})]})})}),Object(P.jsx)(N.a,{})]}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(F.a,{style:{background:"#2b6777"},children:Object(P.jsx)(N.a,{children:Object(P.jsxs)(_.a,{variant:"h6",children:[Object(P.jsx)(q.a,{color:"inherit",href:"/",children:"Posts"}),"admin"===e.role?Object(P.jsx)(q.a,{color:"inherit",href:"/create_post",children:"Create Post"}):"","user"===e.role?Object(P.jsx)(q.a,{color:"inherit",href:"/create_invitation",children:"Create Invitation"}):"","user"===e.role?Object(P.jsx)(q.a,{color:"inherit",href:"/my_invitations",children:"Sent Invitations"}):"",Object(P.jsxs)(q.a,{color:"inherit",href:"/login",onClick:this.onSubmit,children:["Logout: ",e.username," (","admin"===e.role?"player":"team",")"]})]})})}),Object(P.jsx)(N.a,{})]})}}]),n}(a.a.Component),T=n(158),B=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.pst;return Object(P.jsx)(T.a,{item:!0,children:Object(P.jsx)("div",{className:"post",children:Object(P.jsxs)("div",{id:"informations".concat(e._id),children:[Object(P.jsx)("h2",{children:Object(P.jsxs)(c.b,{to:"post_details/".concat(e._id),children:[" ",e.name]})}),Object(P.jsxs)("div",{children:["Game: ",e.game," "]}),Object(P.jsxs)("div",{className:"genre",children:["Genre: ",e.genre]})]})})})}}]),n}(a.a.Component),J=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return this.props.msg.length>0?Object(P.jsx)("div",{className:"msg",children:Object(P.jsxs)("label",{id:"msg",children:[this.props.msg," "]})}):Object(P.jsx)(P.Fragment,{})}}]),n}(a.a.Component),K=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).state={posts:null,msg:"",nameFilter:"",genreFilter:"",genreDict:{}},x()(Object(b.a)(r)),r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:t=e.sent,this.setState({posts:t}),this.makeDict("");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChange",value:function(e){var t=this.state.nameFilter;t=e.target.value,this.setState({nameFilter:t}),this.makeDict(t)}},{key:"genreChange",value:function(e){var t=this.state.genreFilter;t=e.target.value,this.setState({genreFilter:t})}},{key:"makeDict",value:function(e){var t={},n=this.state.posts.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));n.forEach((function(e){t[e.genre]=0})),n.forEach((function(e){t[e.genre]+=1})),this.setState({genreDict:t})}},{key:"render",value:function(){var e=this.state,t=e.nameFilter,n=e.genreFilter,r=e.genreDict,a=this.state.posts;if(!a)return Object(P.jsx)("div",{children:"Posts not loaded yet..."});var s=a.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())&&(e.genre===n||""===n)}));return 0===s.length?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(T.a,{container:!0,alignItems:"center",justifyContent:"center",justify:"center",direction:"column",children:[Object(P.jsx)(T.a,{item:!0,children:Object(P.jsx)(_.a,{variant:"h6",align:"left",paragraph:!0,children:Object(P.jsx)(J,{msg:this.state.msg})})}),Object(P.jsx)(T.a,{item:!0,children:Object(P.jsx)(_.a,{variant:"h6",align:"left",paragraph:!0,children:Object(P.jsx)("h1",{children:"Posts"})})}),Object(P.jsxs)(T.a,{container:!0,justifyContent:"center",direction:"row",children:[Object(P.jsx)(T.a,{item:!0,children:Object(P.jsxs)(_.a,{variant:"h6",align:"left",paragraph:!0,children:[Object(P.jsx)("label",{htmlFor:"search",children:"Search a player:"}),Object(P.jsx)("input",{id:"search",type:"text",placeholder:"Search..",value:t,onChange:this.onChange})]})}),Object(P.jsx)(T.a,{item:!0,children:Object(P.jsxs)(_.a,{variant:"h6",align:"left",paragraph:!0,children:[Object(P.jsx)("label",{htmlFor:"genre",children:"Choose a genre:"}),Object(P.jsxs)("select",{id:"genre",name:"genre",onChange:this.genreChange,children:[Object(P.jsx)("option",{value:"",children:" Show every genre "},"none"),Object.keys(r).map((function(e){return Object(P.jsxs)("option",{value:"".concat(e),children:[" ","".concat(e," (").concat(r[e],")")," "]},e)}))]})]})})]})]}),Object(P.jsx)(T.a,{container:!0,alignItems:"left",justifyContent:"center",justify:"center",direction:"column",children:Object(P.jsx)(T.a,{item:!0,children:Object(P.jsx)(_.a,{variant:"h6",align:"left",paragraph:!0,children:Object(P.jsx)("div",{id:"container",children:Object(P.jsx)("div",{className:"post",children:"No posts in the database."})})})})})]}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(T.a,{container:!0,alignItems:"center",justifyContent:"center",justify:"center",direction:"column",children:[Object(P.jsx)(T.a,{item:!0,children:Object(P.jsx)(_.a,{variant:"h6",align:"left",paragraph:!0,children:Object(P.jsx)(J,{msg:this.state.msg})})}),Object(P.jsx)(T.a,{item:!0,children:Object(P.jsx)(_.a,{variant:"h6",align:"left",paragraph:!0,children:Object(P.jsx)("h1",{children:"Posts"})})}),Object(P.jsxs)(T.a,{container:!0,justifyContent:"center",direction:"row",children:[Object(P.jsx)(T.a,{item:!0,children:Object(P.jsxs)(_.a,{variant:"h6",align:"left",paragraph:!0,children:[Object(P.jsx)("label",{htmlFor:"search",children:"Search a player:"}),Object(P.jsx)("input",{id:"search",type:"text",placeholder:"Search..",value:t,onChange:this.onChange})]})}),Object(P.jsx)(T.a,{item:!0,children:Object(P.jsxs)(_.a,{variant:"h6",align:"left",paragraph:!0,children:[Object(P.jsx)("label",{htmlFor:"genre",children:"Choose a genre:"}),Object(P.jsxs)("select",{id:"genre",name:"genre",onChange:this.genreChange,children:[Object(P.jsx)("option",{value:"",children:" Show every genre "},"none"),Object.keys(r).map((function(e){return Object(P.jsxs)("option",{value:"".concat(e),children:[" ","".concat(e," (").concat(r[e],")")," "]},e)}))]})]})})]})]}),Object(P.jsx)(T.a,{container:!0,justifyContent:"center",direction:"row",children:s.map((function(e){return Object(P.jsx)(T.a,{item:!0,children:Object(P.jsx)(B,{pst:e},e._id)},e._id)}))})]})}}]),n}(a.a.Component);function L(){return Object(P.jsx)(T.a,{container:!0,justifyContent:"center",children:Object(P.jsx)(T.a,{item:!0,children:Object(P.jsx)("p",{children:"Copyright 2021"})})})}function M(){return R.apply(this,arguments)}function R(){return(R=Object(l.a)(j.a.mark((function e(){var t,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify({username:document.getElementById("username").value,password:document.getElementById("password").value}),e.next=3,fetch("".concat(S,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:t});case 3:return n=e.sent,e.next=6,n.json();case 6:if(r=e.sent,!(n.status<400)){e.next=10;break}return document.cookie="token=".concat(r.token),e.abrupt("return","OK");case 10:return e.abrupt("return",r.msg);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return G.apply(this,arguments)}function G(){return(G=Object(l.a)(j.a.mark((function e(){var t,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify({username:document.getElementById("username").value,password1:document.getElementById("password1").value,password2:document.getElementById("password2").value}),e.next=3,fetch("".concat(S,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:t});case 3:return n=e.sent,e.next=6,n.json();case 6:if(r=e.sent,!(n.status<400)){e.next=9;break}return e.abrupt("return","OK");case 9:return e.abrupt("return",r.msg);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z="we are inviting you for a 1v1 battle with 1 of our team members in a Tetris game: https://tetr.io/#WWFN",A=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).state={msg:"",user:{}},x()(Object(b.a)(r)),r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:t=e.sent,this.setState({user:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,M();case 3:"OK"===(n=e.sent)?window.location.href="/":this.setState({msg:n});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.msg,n=e.user;return"{}"!==JSON.stringify(n)?Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(T.a,{container:!0,direction:"column",justifyContent:"center",justify:"center",alignItems:"center",children:Object(P.jsxs)(T.a,{Item:!0,children:[Object(P.jsx)("h1",{children:"Login: "}),Object(P.jsx)("div",{id:"login",children:Object(P.jsx)("div",{className:"login",children:"You are already logged in!"})})]})})}):Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(T.a,{container:!0,direction:"column",justifyContent:"center",justify:"center",alignItems:"center",children:[Object(P.jsx)(T.a,{Item:!0,children:Object(P.jsx)(J,{msg:t})}),Object(P.jsx)(T.a,{Item:!0,children:Object(P.jsx)("h1",{children:"Login"})}),Object(P.jsxs)("form",{method:"POST",id:"login",children:[Object(P.jsx)("label",{htmlFor:"username",children:"Username: "}),Object(P.jsx)("input",{id:"username",type:"text",name:"username",required:!0}),Object(P.jsx)("label",{htmlFor:"password",children:"Password: "}),Object(P.jsx)("input",{id:"password",type:"password",name:"password",required:!0}),Object(P.jsx)("input",{type:"button",onClick:this.onSubmit,value:"Login"})]}),Object(P.jsx)(T.a,{Item:!0,children:Object(P.jsxs)("div",{children:["Don't have an account? ",Object(P.jsx)(c.b,{to:"./register",children:"Register now"})]})})]})})}}]),n}(a.a.Component),H=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).state={msg:"",user:{}},x()(Object(b.a)(r)),r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:t=e.sent,this.setState({user:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,U();case 3:"OK"===(n=e.sent)?this.props.history.push("/login"):this.setState({msg:n});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.msg,n=e.user;return"{}"!==JSON.stringify(n)?Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(T.a,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",justify:"center",children:[Object(P.jsx)(T.a,{Item:!0,children:Object(P.jsx)("h1",{children:"Register: "})}),Object(P.jsx)(T.a,{Item:!0,children:Object(P.jsx)("div",{id:"register",children:Object(P.jsx)("div",{className:"register",children:"You are already logged in!"})})})]})}):Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(T.a,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",justify:"center",children:[Object(P.jsx)(T.a,{Item:!0,children:Object(P.jsx)(J,{msg:t})}),Object(P.jsx)(T.a,{Item:!0,children:Object(P.jsx)("h1",{children:"Register"})}),Object(P.jsxs)("form",{method:"POST",id:"register",children:[Object(P.jsx)("label",{htmlFor:"username",children:"Username: "}),Object(P.jsx)("input",{id:"username",type:"text",name:"username",required:!0}),Object(P.jsx)("label",{htmlFor:"password1",children:"Password: "}),Object(P.jsx)("input",{id:"password1",type:"password",name:"password1",required:!0}),Object(P.jsx)("label",{htmlFor:"password2",children:"Password again: "}),Object(P.jsx)("input",{id:"password2",type:"password",name:"password2",required:!0}),Object(P.jsx)("input",{type:"button",onClick:this.onSubmit,value:"Register"})]})]})})}}]),n}(a.a.Component);function Y(e){return W.apply(this,arguments)}function W(){return(W=Object(l.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/invitations?pst_id=").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,200!==n.status){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return V.apply(this,arguments)}function V(){return(V=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/myInvitations"),{mode:"cors",credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,200!==t.status){e.next=8;break}return e.abrupt("return",n);case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(l.a)(j.a.mark((function e(t){var n,r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:document.getElementById("name").value,id:t,date:document.getElementById("date").value,time:document.getElementById("time").value,description:document.getElementById("description").value,requirements:document.getElementById("requirements").value},e.next=3,fetch("".concat(S,"/createInvitation"),{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:return r=e.sent,e.next=6,r.json();case 6:if(a=e.sent,!(r.status<400)){e.next=9;break}return e.abrupt("return","OK");case 9:if(!(r.status>=500)){e.next=11;break}return e.abrupt("return","Server problem");case 11:return e.abrupt("return",a.msg);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(l.a)(j.a.mark((function e(t){var n,r,a,s,i,c,o,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/deleteInvitation?id=").concat(t),{method:"DELETE",mode:"cors",credentials:"include"});case 2:if(204!==(n=e.sent).status){e.next=10;break}document.getElementById("".concat(t)).remove(),0===document.getElementsByClassName("invitation").length&&(r=document.getElementById("invitations"),(a=document.createElement("div")).setAttribute("class","invitation"),s=document.createTextNode("No registered invitations in the database."),a.appendChild(s),document.getElementById("deleted")?r.insertBefore(a,r.firstChild):r.appendChild(a)),document.getElementById("deleted")||(i=document.getElementById("invitations"),(c=document.createElement("div")).setAttribute("id","deleted"),o=document.createTextNode("1 invitation deleted"),c.appendChild(o),i.appendChild(c)),e.next=14;break;case 10:return e.next=12,n.json();case 12:u=e.sent,alert(u.message);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(l.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/acceptInvitation?id=").concat(t),{method:"PUT",mode:"cors",credentials:"include"});case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,200!==n.status){e.next=8;break}return e.abrupt("return","OK");case 8:return e.abrupt("return",r.msg);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(l.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/declineInvitation?id=").concat(t),{method:"PUT",mode:"cors",credentials:"include"});case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,200!==n.status){e.next=8;break}return e.abrupt("return","OK");case 8:return e.abrupt("return",r.msg);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).state={invitations:[],user:{},msg:"",statusFilter:"",statusDict:"",firstDate:"",secondDate:""},x()(Object(b.a)(r)),r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(j.a.mark((function e(){var t,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.post,e.next=3,Y(t._id);case 3:return n=e.sent,this.setState({invitations:n}),e.next=7,I();case 7:r=e.sent,this.setState({user:r}),this.makeDict("","");case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"statusChange",value:function(e){var t=this.state.statusFilter;t=e.target.value,this.setState({statusFilter:t})}},{key:"firstDateChange",value:function(e){var t=this.state.firstDate,n=this.state.secondDate;t=e.target.value,this.setState({firstDate:t}),this.makeDict(t,n)}},{key:"secondDateChange",value:function(e){var t=this.state.secondDate,n=this.state.firstDate;t=e.target.value,this.setState({secondDate:t}),this.makeDict(n,t)}},{key:"makeDict",value:function(e,t){var n={},r=this.state.invitations;(r=r.filter((function(n){return(""===e||Date.parse(n.date)>=Date.parse(e))&&(""===t||Date.parse(n.date)<=Date.parse(t))}))).forEach((function(e){n[e.status]=0})),r.forEach((function(e){n[e.status]+=1})),this.setState({statusDict:n})}},{key:"acceptInv",value:function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(t);case 2:if("OK"!==e.sent){e.next=10;break}return e.next=6,Y(this.props.post._id);case 6:n=e.sent,this.setState({invitations:n}),e.next=11;break;case 10:this.setState({msg:"Error"});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"declineInv",value:function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t);case 2:if("OK"!==e.sent){e.next=10;break}return e.next=6,Y(this.props.post._id);case 6:n=e.sent,this.setState({invitations:n}),e.next=11;break;case 10:this.setState({msg:"Error"});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"empty",value:function(e){return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(T.a,{item:!0,children:[Object(P.jsx)("h2",{children:"Invitations: "}),Object(P.jsx)("div",{id:"invitations",children:Object(P.jsx)("div",{className:"invitation",children:e})})]})})}},{key:"notAdmin",value:function(e,t){return 0===t.filter((function(t){return t.name===e.username})).length?this.empty("You have no registered invitations."):Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(T.a,{container:!0,alignItems:"center",justifyContent:"center",direction:"column",jusitfy:"center",children:[Object(P.jsx)(T.a,{item:!0,children:Object(P.jsx)("h2",{children:"Invitations: "})}),Object(P.jsx)(T.a,{item:!0,children:Object(P.jsx)("div",{id:"invitations",children:t.filter((function(t){return t.name===e.username})).map((function(e){return Object(P.jsx)(T.a,{item:!0,children:Object(P.jsxs)("span",{style:{"white-space":"pre-line"},children:[" ",Object(P.jsx)("b",{children:"Name:"}),"  ",e.name," , date:  ",e.date," , time:  ",e.time,Object(P.jsx)("br",{})," ",Object(P.jsx)("b",{children:"Description:"})," ",e.description," ",Object(P.jsx)("br",{})," ",Object(P.jsx)("b",{children:"Requirements:"})," ",e.requirements," ",Object(P.jsx)("br",{})," ",Object(P.jsx)("b",{children:"Status:"})," ",Object(P.jsx)("b",{children:e.status})," \xa0",Object(P.jsx)("a",{href:"#",onClick:function(){return $(e._id)},children:"delete Invitation"}),Object(P.jsx)("hr",{})]})},e._id)}))})})]})})}},{key:"render",value:function(){var e=this,t=this.props.post,n=this.state.invitations,r=this.state,a=r.statusFilter,s=r.statusDict,i=r.firstDate,c=r.secondDate,o=r.msg,u=r.user;return"{}"===JSON.stringify(u)?this.empty("Log in to make invitations."):"user"===u.role||t.adminID!==u.id?this.notAdmin(u,n):0===(n=n.filter((function(e){return(e.status===a||""===a)&&(""===i||Date.parse(e.date)>=Date.parse(i))&&(""===c||Date.parse(e.date)<=Date.parse(c))}))).length?Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(T.a,{container:!0,alignItems:"center",justifyContent:"center",direction:"column",jusitfy:"center",children:[Object(P.jsx)(T.a,{item:!0,children:Object(P.jsx)("h2",{children:"Invitations: "})}),Object(P.jsxs)(T.a,{item:!0,children:[Object(P.jsx)("label",{htmlFor:"status",children:"Choose a status:"}),Object(P.jsxs)("select",{id:"status",name:"status",onChange:this.statusChange,children:[Object(P.jsx)("option",{value:"",children:" Show every status "},"none"),Object.keys(s).map((function(e){return Object(P.jsxs)("option",{value:"".concat(e),children:[" ","".concat(e," (").concat(s[e],")")," "]},e)}))]})]}),Object(P.jsxs)(T.a,{item:!0,children:[Object(P.jsx)("label",{htmlFor:"date",children:"Invitations from: "}),Object(P.jsx)("input",{id:"date",type:"date",name:"date",value:i,onChange:this.firstDateChange,required:!0}),Object(P.jsx)("label",{htmlFor:"date",children:"Invitations until: "}),Object(P.jsx)("input",{id:"date",type:"date",name:"date",value:c,onChange:this.secondDateChange,required:!0})]}),Object(P.jsx)(T.a,{item:!0,children:Object(P.jsx)("div",{id:"invitations",children:Object(P.jsx)("div",{className:"invitation",children:"No registered invitations in the database."})})})]})}):Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(T.a,{container:!0,alignItems:"center",justifyContent:"center",direction:"column",jusitfy:"center",children:[Object(P.jsx)(T.a,{item:!0,children:Object(P.jsx)(J,{msg:o})}),Object(P.jsx)(T.a,{item:!0,children:Object(P.jsx)("h2",{children:"Invitations: "})}),Object(P.jsxs)(T.a,{item:!0,children:[Object(P.jsx)("label",{htmlFor:"status",children:"Choose a status:"}),Object(P.jsxs)("select",{id:"status",name:"status",onChange:this.statusChange,children:[Object(P.jsx)("option",{value:"",children:" Show every status "},"none"),Object.keys(s).map((function(e){return Object(P.jsxs)("option",{value:"".concat(e),children:[" ","".concat(e," (").concat(s[e],")")," "]},e)}))]}),Object(P.jsx)("label",{htmlFor:"date",children:"Invitations from: "}),Object(P.jsx)("input",{id:"date",type:"date",name:"date",value:i,onChange:this.firstDateChange,required:!0}),Object(P.jsx)("label",{htmlFor:"date",children:"Invitations until: "}),Object(P.jsx)("input",{id:"date",type:"date",name:"date",value:c,onChange:this.secondDateChange,required:!0})]}),Object(P.jsxs)("div",{id:"invitations",children:[n.filter((function(e){return"pending"===e.status})).map((function(t){return Object(P.jsx)(T.a,{item:!0,boxSizing:"border-box",children:Object(P.jsx)("div",{className:"invitation",id:"".concat(t._id),children:Object(P.jsxs)("span",{style:{"white-space":"pre-line"},children:[" ",Object(P.jsx)("b",{children:"Name:"}),"  ",t.name," , date:  ",t.date," , time:  ",t.time,Object(P.jsx)("br",{})," ",Object(P.jsx)("b",{children:"Description:"})," ",t.description," ",Object(P.jsx)("br",{})," ",Object(P.jsx)("b",{children:"Requirements:"})," ",t.requirements," ",Object(P.jsx)("br",{})," ",Object(P.jsx)("b",{children:"Status:"})," ",Object(P.jsx)("b",{children:t.status})," \xa0",Object(P.jsx)("a",{href:"#",onClick:function(){return e.acceptInv(t._id)},children:"ACCEPT \xa0"}),Object(P.jsx)("a",{href:"#",onClick:function(){return e.declineInv(t._id)},children:"DECLINE"}),t.name===u.username?Object(P.jsx)("a",{href:"#",onClick:function(){return $(t._id)},children:"\xa0 delete Invitation"}):Object(P.jsx)(P.Fragment,{}),Object(P.jsx)("hr",{})]})},t._id)},t._id)})),n.filter((function(e){return"accepted"===e.status})).map((function(e){return Object(P.jsx)(T.a,{item:!0,boxSizing:"border-box",children:Object(P.jsx)("div",{className:"invitation",id:"".concat(e._id),children:Object(P.jsxs)("span",{style:{"white-space":"pre-line"},children:[" ",Object(P.jsx)("b",{children:"Name:"}),"  ",e.name," , date:  ",e.date," , time:  ",e.time,Object(P.jsx)("br",{})," ",Object(P.jsx)("b",{children:"Description:"})," ",e.description," ",Object(P.jsx)("br",{})," ",Object(P.jsx)("b",{children:"Requirements:"})," ",e.requirements," ",Object(P.jsx)("br",{})," ",Object(P.jsx)("b",{children:"Status:"})," ",Object(P.jsx)("b",{children:e.status}),e.name===u.username?Object(P.jsx)("a",{href:"#",onClick:function(){return $(e._id)},children:"\xa0 delete Invitation"}):Object(P.jsx)(P.Fragment,{}),Object(P.jsx)("hr",{})]})},e._id)},e._id)})),n.filter((function(e){return"declined"===e.status})).map((function(e){return Object(P.jsx)(T.a,{item:!0,boxSizing:"border-box",children:Object(P.jsx)("div",{className:"invitation",id:"".concat(e._id),children:Object(P.jsxs)("span",{style:{"white-space":"pre-line"},children:[" ",Object(P.jsx)("b",{children:"Name:"}),"  ",e.name," , date:  ",e.date," , time:  ",e.time,Object(P.jsx)("br",{})," ",Object(P.jsx)("b",{children:"Description:"})," ",e.description," ",Object(P.jsx)("br",{})," ",Object(P.jsx)("b",{children:"Requirements:"})," ",e.requirements," ",Object(P.jsx)("br",{})," ",Object(P.jsx)("b",{children:"Status:"})," ",Object(P.jsx)("b",{children:e.status}),e.name===u.username?Object(P.jsx)("a",{href:"#",onClick:function(){return $(e._id)},children:"\xa0 delete Invitation"}):Object(P.jsx)(P.Fragment,{}),Object(P.jsx)("hr",{})]})},e._id)},e._id)}))]})]})})}}]),n}(a.a.Component),ie="http://localhost:8080/uploadPhoto";function ce(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(l.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/pictures?pst_id=").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,200!==n.status){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(){return je.apply(this,arguments)}function je(){return(je=Object(l.a)(j.a.mark((function e(){var t,n,r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("photoForm"),n=new FormData(t),e.next=4,fetch("".concat(ie),{method:"POST",mode:"cors",credentials:"include",body:n});case 4:return r=e.sent,e.next=7,r.json();case 7:if(a=e.sent,!(r.status<400)){e.next=10;break}return e.abrupt("return","OK");case 10:if(!(r.status>=500)){e.next=12;break}return e.abrupt("return","Server problem");case 12:return e.abrupt("return",a.msg);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var le=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.pictures;return 0===e.length?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("h2",{children:"Pictures: "}),Object(P.jsx)("div",{children:Object(P.jsx)("div",{className:"picture",children:"No pictures in the database."})})]}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("h2",{children:"Pictures: "}),Object(P.jsx)("div",{children:e.map((function(e){return Object(P.jsx)("div",{className:"picture",children:Object(P.jsx)("img",{src:"".concat(S,"/picture?photo=").concat(e.photo),alt:e.name},e.name)},e.photo)}))})]})}}]),n}(a.a.Component),he=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).state={msg:"",pictures:[]},x()(Object(b.a)(r)),r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(this.props.post._id);case 2:t=e.sent,this.setState({pictures:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,ue();case 3:"OK"===(n=e.sent)?(this.componentDidMount(),this.setState({msg:"Photo uploaded!"})):this.setState({msg:n});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.msg,t=this.props.post,n=this.props.user;return"{}"===JSON.stringify(n)||"admin"!==n.role||n.id!==t.adminID?Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(le,{pictures:this.state.pictures})}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(le,{pictures:this.state.pictures}),Object(P.jsx)(J,{msg:e}),Object(P.jsx)("h3",{children:"Upload Photo"}),Object(P.jsxs)("form",{method:"POST",id:"photoForm",encType:"multipart/form-data",children:[Object(P.jsx)("input",{id:"id",type:"hidden",name:"id",placeholder:"Post ID",value:t._id}),Object(P.jsx)("label",{htmlFor:"photo",children:" Photo: "}),Object(P.jsx)("input",{id:"photo",type:"file",name:"photo",required:!0}),Object(P.jsx)("br",{}),Object(P.jsx)("input",{type:"button",onClick:this.onSubmit,value:"Upload"})]})]})}}]),n}(a.a.Component),de=n(154),be=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).state={post:{},msg:"",invitations:[],user:{}},r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(j.a.mark((function e(){var t,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.pstID,e.next=3,y(t);case 3:return n=e.sent,"{}"===JSON.stringify(n)?this.setState({msg:"Not found"}):this.setState({post:n}),e.next=7,I();case 7:r=e.sent,this.setState({user:r});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.post,t=this.state.user;return"{}"===JSON.stringify(e)?Object(P.jsx)(J,{msg:this.state.msg}):Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(T.a,{container:!0,alignItems:"center",justifyContent:"center",direction:"column",jusitfy:"center",children:[Object(P.jsx)(T.a,{Item:!0,children:Object(P.jsx)(_.a,{align:"center",paragraph:!0,children:Object(P.jsx)(J,{msg:this.state.msg})})}),Object(P.jsx)(T.a,{Item:!0,children:Object(P.jsx)(_.a,{align:"center",paragraph:!0,children:Object(P.jsx)("h1",{children:e.name})})}),Object(P.jsx)(T.a,{item:!0,children:Object(P.jsxs)("div",{className:"post",children:[Object(P.jsxs)("div",{children:["Game:  ",e.game," "]}),Object(P.jsxs)("div",{children:["Genre:  ",e.genre," "]}),Object(P.jsxs)("div",{children:["City:  ",e.city," "]}),Object(P.jsxs)("div",{children:["Email: ",e.email," "]}),Object(P.jsxs)("div",{children:["Tel:  ",e.telefon," "]}),Object(P.jsxs)("div",{children:["Description: ",Object(P.jsx)("br",{})," ",Object(P.jsx)(de.a,{multiline:!0,rows:"5",cols:"50",value:e.description})," "]})]})}),Object(P.jsx)(T.a,{item:!0,children:Object(P.jsx)(se,{post:e})}),Object(P.jsx)(T.a,{item:!0,children:Object(P.jsx)(he,{user:t,post:e,details:this})})]})})}}]),n}(a.a.Component),pe=n(165),me=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).state={msg:"",post:{},user:{}},x()(Object(b.a)(r)),r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:t=e.sent,this.setState({user:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChange",value:function(e){var t=this.state.post;t[e.target.name]=e.target.value,this.setState({post:t})}},{key:"onSubmit",value:function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.state.post.adminID=this.state.user.id,e.next=4,C(this.state.post);case 4:"OK"===(n=e.sent)?this.props.history.push("/"):this.setState({msg:n});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.msg,n=e.post,r=e.user;return"{}"===JSON.stringify(r)?Object(P.jsx)(J,{msg:"Unauthorized"}):"admin"!==r.role?Object(P.jsx)(J,{msg:"Forbidden"}):Object(P.jsxs)(T.a,{container:!0,alignItems:"center",justifyContent:"center",justify:"center",direction:"column",children:[Object(P.jsx)(T.a,{item:!0,children:Object(P.jsx)(J,{msg:t})}),Object(P.jsx)(T.a,{item:!0,children:Object(P.jsx)("h1",{children:"Create Post"})}),Object(P.jsx)(T.a,{item:!0,children:Object(P.jsxs)("form",{method:"POST",children:[Object(P.jsx)("label",{htmlFor:"name",children:"Post Name: "}),Object(P.jsx)(de.a,{id:"name",type:"text",name:"name",placeholder:"Post name",value:n.name,onChange:this.onChange,required:!0}),Object(P.jsx)("br",{}),Object(P.jsx)("label",{htmlFor:"genre",children:" Genre name: "}),Object(P.jsx)(de.a,{id:"genre",type:"text",name:"genre",placeholder:"Genre name",value:n.genre,onChange:this.onChange,required:!0}),Object(P.jsx)("br",{}),Object(P.jsx)("label",{htmlFor:"game",children:" Game name: "}),Object(P.jsx)(de.a,{id:"game",type:"text",name:"game",placeholder:"Game name",value:n.game,onChange:this.onChange,required:!0}),Object(P.jsx)("br",{}),Object(P.jsx)("label",{htmlFor:"city",children:" City name: "}),Object(P.jsx)(de.a,{id:"city",type:"text",name:"city",placeholder:"City name",value:n.city,onChange:this.onChange,required:!0}),Object(P.jsx)("br",{}),Object(P.jsx)("label",{htmlFor:"email",children:" Email: "}),Object(P.jsx)(de.a,{id:"email",type:"text",name:"email",placeholder:"Email",value:n.email,onChange:this.onChange,required:!0}),Object(P.jsx)("br",{}),Object(P.jsx)("label",{htmlFor:"telefon",children:"Telefon number: "}),Object(P.jsx)(de.a,{id:"telefon",type:"tel",name:"telefon",placeholder:"Telefon number",value:n.telefon,onChange:this.onChange,required:!0}),Object(P.jsx)("br",{}),Object(P.jsx)("label",{htmlFor:"description",children:" Description: "}),Object(P.jsx)(de.a,{multiline:!0,rows:"5",id:"description",type:"text",name:"description",placeholder:"description",value:n.description,onChange:this.onChange,required:!0}),Object(P.jsx)("br",{}),Object(P.jsx)(pe.a,{type:"button",onClick:this.onSubmit,value:"Create Post"})]})})]})}}]),n}(a.a.Component),Oe=n(156),xe=n(152),fe=n(155),ve=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).state={msg:"",posts:[],selectedPost:null,user:null,invitations:[],invitationDate:"",invitationTime:"",description:"",requirements:"Stable internet connection",invit:"",postId:null},x()(Object(b.a)(r)),r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(j.a.mark((function e(){var t,n,r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:if(t=e.sent,n=this.state.invitations,this.setState({posts:t}),!(t.length>0)){e.next=12;break}return r=t[0],e.next=9,Y(r._id);case 9:n=e.sent,this.setState({invitations:n}),this.setState({selectedPost:r});case 12:return e.next=14,I();case 14:a=e.sent,this.setState({user:a});case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){var e=Object(l.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=this.state.postId,e.next=4,X(n);case 4:"OK"===(r=e.sent)?this.props.history.push("/post_details/".concat(n)):this.setState({msg:r});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"postChange",value:function(){var e=Object(l.a)(j.a.mark((function e(){var t,n,r,a,s,i,c,o,u,l,h;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=this.state.posts,n=this.state,r=n.selectedPost,a=n.postId,console.log(a),s=0;s<t.length;s+=1)t[s]._id===parseInt(a,10)&&(r=t[s]);return e.next=6,Y(r._id);case 6:i=e.sent,c=this.state,o=c.description,u=c.invitationDate,l=c.invitationTime,h=c.invit,""===u?(o="Hello "+r.name+" "+z,h="Hello "+r.name+" "+z):(o=""===l?"Hello "+r.name+" "+z+" on "+u:"Hello "+r.name+" "+z+" on "+u+" at "+l,h="Hello "+r.name+" "+z),this.setState({description:o,invit:h}),this.setState({invitations:i}),this.setState({selectedPost:r});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changeInvitationDate",value:function(e){var t=this.state,n=t.invitationDate,r=t.invitationTime,a=t.description,s=t.invit;n=e.target.value,this.setState({invitationDate:n}),a=""===r?s+" on "+n:s+" on "+n+" at "+r,this.setState({description:a})}},{key:"changeInvitationTime",value:function(e){var t=this.state,n=t.invitationDate,r=t.invitationTime,a=t.description,s=t.invit;r=e.target.value,this.setState({invitationTime:r}),a=""===n?s+" at "+r:s+" on "+n+" at "+r,this.setState({description:a})}},{key:"render",value:function(){var e=this,t=this.state,n=t.msg,r=t.posts,a=t.user,s=t.invitationDate,i=t.invitationTime,c=t.selectedPost,o=t.description,u=t.requirements,j=this.state.postId;return a&&c?0===r.length?Object(P.jsx)(J,{msg:"No posts in the database"}):"{}"===JSON.stringify(a)?Object(P.jsx)(J,{msg:"Unauthorized"}):a&&"admin"===a.role?Object(P.jsx)(J,{msg:"No permission"}):Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(T.a,{container:!0,justifyContent:"center",direction:"column",alignItems:"center",children:[Object(P.jsx)(T.a,{Item:!0,children:Object(P.jsx)(J,{msg:n})}),Object(P.jsx)(T.a,{Item:!0,children:Object(P.jsx)("h1",{children:"Create Invitation"})}),Object(P.jsx)(T.a,{Item:!0,children:Object(P.jsxs)(Oe.a,{method:"POST",children:[Object(P.jsxs)("label",{htmlFor:"name",children:["Name: ",a.username," "]}),Object(P.jsx)(pe.a,{id:"name",name:"name",type:"hidden",value:a.username}),Object(P.jsx)("br",{}),Object(P.jsx)("label",{htmlFor:"id",children:"Choose a post:"}),Object(P.jsx)(xe.a,{label:"Name...",id:"id",name:"id",onChange:this.postChange,children:r.map((function(t){return Object(P.jsxs)(fe.a,{value:"".concat(t._id),onClick:function(){return n="".concat(t._id),j=n,void e.setState({postId:j});var n},children:[" ","".concat(t.name)," "]},t._id)}))}),Object(P.jsx)("label",{htmlFor:"date",children:"Invitation date: "}),Object(P.jsx)(de.a,{id:"date",type:"date",name:"date",value:s,onChange:this.changeInvitationDate,required:!0}),Object(P.jsx)("br",{}),Object(P.jsx)("label",{htmlFor:"time",children:"Invitation time: "}),Object(P.jsx)(de.a,{id:"time",type:"time",name:"time",value:i,onChange:this.changeInvitationTime,required:!0}),Object(P.jsx)("br",{}),Object(P.jsx)("label",{htmlFor:"description",children:" Description: "}),Object(P.jsx)(de.a,{multiline:!0,rows:"5",id:"description",type:"text",name:"description",value:o,placeholder:"description",required:!0}),Object(P.jsx)("br",{}),Object(P.jsx)("label",{htmlFor:"requirements",children:" Requirements: "}),Object(P.jsx)(de.a,{multiline:!0,id:"requirements",type:"text",name:"requirements",value:u,placeholder:"requirements",required:!0}),Object(P.jsx)("br",{}),Object(P.jsx)(pe.a,{type:"button",value:"Send Invitation",onClick:this.onSubmit})]})})]})}):Object(P.jsx)("div",{children:"Create invitation not loaded yet..."})}}]),n}(a.a.Component),ge=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).state={invitations:[],user:{},msg:"",statusFilter:"",statusDict:""},x()(Object(b.a)(r)),r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return t=e.sent,this.setState({user:t}),e.next=6,Q();case 6:n=e.sent,this.setState({invitations:n}),this.makeDict();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"statusChange",value:function(e){var t=this.state.statusFilter;t=e.target.value,this.setState({statusFilter:t})}},{key:"makeDict",value:function(){var e={},t=this.state.invitations;t.forEach((function(t){e[t.status]=0})),t.forEach((function(t){e[t.status]+=1})),this.setState({statusDict:e})}},{key:"render",value:function(){var e=this.state.statusFilter,t=this.state.statusDict,n=this.state.user,r=this.state.invitations.filter((function(t){return t.status===e||""===e}));return"{}"===JSON.stringify(n)?Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(T.a,{container:!0,alignItems:"center",justifyContent:"cente",direction:"column",children:[Object(P.jsx)(T.a,{Item:!0,children:Object(P.jsx)("h1",{children:"Invitations: "})}),Object(P.jsx)(T.a,{Item:!0,children:Object(P.jsx)("div",{id:"invitations",children:Object(P.jsx)("div",{className:"invitation",children:"Log in to make invitations."})})})]})}):0===r.length?Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(T.a,{container:!0,alignItems:"center",justifyContent:"cente",direction:"column",children:[Object(P.jsx)(T.a,{Item:!0,children:Object(P.jsx)("h1",{children:"Invitations: "})}),Object(P.jsx)(T.a,{Item:!0,children:Object(P.jsx)("div",{id:"invitations",children:Object(P.jsx)("div",{className:"invitation",children:"You have no registered invitations."})})})]})}):Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(T.a,{container:!0,alignItems:"center",justifyContent:"cente",direction:"column",children:[Object(P.jsx)(T.a,{Item:!0,children:Object(P.jsx)("h1",{children:"Invitations: "})}),Object(P.jsx)(T.a,{Item:!0,children:Object(P.jsx)("label",{htmlFor:"status",children:"Choose a status:"})}),Object(P.jsx)(T.a,{Item:!0,children:Object(P.jsxs)("select",{id:"status",name:"status",onChange:this.statusChange,children:[Object(P.jsx)("option",{value:"",children:" Show every status "},"none"),Object.keys(t).map((function(e){return Object(P.jsxs)("option",{value:"".concat(e),children:[" ","".concat(e," (").concat(t[e],")")," "]},e)}))]})}),Object(P.jsx)(T.a,{Item:!0,children:Object(P.jsx)("div",{id:"invitations",children:r.map((function(e){return Object(P.jsx)("div",{className:"invitation",id:"".concat(e._id),children:Object(P.jsxs)("span",{style:{"white-space":"pre-line"},children:[" ",Object(P.jsx)("b",{children:"Name:"}),"  ",e.name," , date:  ",e.date," , time:  ",e.time,Object(P.jsx)("br",{})," ",Object(P.jsx)("b",{children:"Description:"})," ",e.description," ",Object(P.jsx)("br",{})," ",Object(P.jsx)("b",{children:"Requirements:"})," ",e.requirements," ",Object(P.jsx)("br",{})," ",Object(P.jsx)("b",{children:"Status:"})," ",Object(P.jsx)("b",{children:e.status}),"\xa0",Object(P.jsx)("a",{href:"#",onClick:function(){return $(e._id)},children:"delete Invitation"}),Object(P.jsx)("hr",{})]})},e._id)}))})})]})})}}]),n}(a.a.Component);function ye(){return Object(P.jsxs)(c.a,{children:[Object(P.jsx)(E,{}),Object(P.jsx)("main",{children:Object(P.jsxs)(o.c,{children:[Object(P.jsx)(o.a,{exact:!0,path:"/",component:K}),Object(P.jsx)(o.a,{exact:!0,path:"/login",component:A}),Object(P.jsx)(o.a,{exact:!0,path:"/register",component:H}),Object(P.jsx)(o.a,{exact:!0,path:"/my_invitations",component:ge}),Object(P.jsx)(o.a,{exact:!0,path:"/create_post",component:me}),Object(P.jsx)(o.a,{exact:!0,path:"/create_invitation",component:ve}),Object(P.jsx)(o.a,{path:"/post_details/:pstID",component:be})]})}),Object(P.jsx)(L,{})]})}i.a.render(Object(P.jsx)(ye,{}),document.getElementById("root"))}},[[114,1,2]]]);
//# sourceMappingURL=main.bf1d69e4.chunk.js.map